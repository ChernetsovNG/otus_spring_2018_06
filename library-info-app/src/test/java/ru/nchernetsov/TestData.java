package ru.nchernetsov;

import ru.nchernetsov.domain.Author;
import ru.nchernetsov.domain.Book;
import ru.nchernetsov.domain.Comment;
import ru.nchernetsov.domain.Genre;

import java.util.*;

public class TestData {

    private static final Map<Integer, Author> authorsMap = new HashMap<>();
    private static final Map<Integer, Book> booksMap = new HashMap<>();
    private static final Map<Integer, Comment> commentsMap = new HashMap<>();
    private static final Map<Integer, Genre> genresMap = new HashMap<>();

    public Map<Integer, Author> getAuthorsMap() {
        return authorsMap;
    }

    public Map<Integer, Book> getBooksMap() {
        return booksMap;
    }

    public Map<Integer, Comment> getCommentsMap() {
        return commentsMap;
    }

    public Map<Integer, Genre> getGenresMap() {
        return genresMap;
    }

    static {
        createTestEntities();
    }

    private static void createTestEntities() {
        createAuthors();
        createGenres();
        createComments();

        Book book1 = new Book();
        book1.setId(UUID.randomUUID().toString());
        book1.setTitle("Бойня номер пять, или Крестовый поход детей");
        book1.setAuthors(Collections.singletonList(authorsMap.get(10)));
        authorsMap.get(10).addBook(book1);
        book1.setGenres(Collections.singletonList(genresMap.get(10)));
        genresMap.get(10).addBook(book1);
        book1.setComments(Arrays.asList(commentsMap.get(10), commentsMap.get(11)));
        commentsMap.get(10).setBook(book1);
        commentsMap.get(11).setBook(book1);
        booksMap.put(10, book1);

        Book book2 = new Book();
        book2.setId(UUID.randomUUID().toString());
        book2.setTitle("Белый клык");
        book2.setAuthors(Collections.singletonList(authorsMap.get(11)));
        authorsMap.get(11).addBook(book2);
        book2.setGenres(Arrays.asList(genresMap.get(11), genresMap.get(13)));
        genresMap.get(11).addBook(book2);
        genresMap.get(13).addBook(book2);
        booksMap.put(11, book2);

        Book book3 = new Book();
        book3.setId(UUID.randomUUID().toString());
        book3.setTitle("Оно");
        book3.setAuthors(Collections.singletonList(authorsMap.get(12)));
        authorsMap.get(12).addBook(book3);
        book3.setGenres(Arrays.asList(genresMap.get(10), genresMap.get(12)));
        genresMap.get(10).addBook(book3);
        genresMap.get(12).addBook(book3);
        book3.setComments(Arrays.asList(commentsMap.get(12), commentsMap.get(13)));
        commentsMap.get(12).setBook(book3);
        commentsMap.get(13).setBook(book3);
        booksMap.put(12, book3);

        Book book4 = new Book();
        book4.setId(UUID.randomUUID().toString());
        book4.setTitle("Война и мир");
        book4.setAuthors(Collections.singletonList(authorsMap.get(13)));
        authorsMap.get(13).addBook(book4);
        book4.setGenres(Collections.singletonList(genresMap.get(13)));
        genresMap.get(13).addBook(book4);
        booksMap.put(13, book4);

        Book book5 = new Book();
        book5.setId(UUID.randomUUID().toString());
        book5.setTitle("Философия Java");
        book5.setAuthors(Collections.singletonList(authorsMap.get(14)));
        authorsMap.get(14).addBook(book5);
        book5.setGenres(Collections.singletonList(genresMap.get(14)));
        genresMap.get(14).addBook(book5);
        booksMap.put(14, book5);

        Book book6 = new Book();
        book6.setId(UUID.randomUUID().toString());
        book6.setTitle("Праздник, который всегда с тобой");
        book6.setAuthors(Collections.singletonList(authorsMap.get(15)));
        authorsMap.get(15).addBook(book6);
        book6.setGenres(Collections.singletonList(genresMap.get(13)));
        genresMap.get(13).addBook(book6);
        booksMap.put(15, book6);
    }

    private static void createAuthors() {
        authorsMap.put(10, new Author(UUID.randomUUID().toString(), "Курт Воннегут"));
        authorsMap.put(11, new Author(UUID.randomUUID().toString(), "Джек Лондон"));
        authorsMap.put(12, new Author(UUID.randomUUID().toString(), "Стивен Кинг"));
        authorsMap.put(13, new Author(UUID.randomUUID().toString(), "Лев Толстой"));
        authorsMap.put(14, new Author(UUID.randomUUID().toString(), "Брюс Эккель"));
        authorsMap.put(15, new Author(UUID.randomUUID().toString(), "Эрнест Хеммингуэй"));
    }

    private static void createGenres() {
        genresMap.put(10, new Genre(UUID.randomUUID().toString(), "Фантастика"));
        genresMap.put(11, new Genre(UUID.randomUUID().toString(), "Приключения"));
        genresMap.put(12, new Genre(UUID.randomUUID().toString(), "Хоррор"));
        genresMap.put(13, new Genre(UUID.randomUUID().toString(), "Проза"));
        genresMap.put(14, new Genre(UUID.randomUUID().toString(), "Программирование"));
    }

    private static void createComments() {
        commentsMap.put(10, new Comment(UUID.randomUUID().toString(), "Кто-то пишет трилогии, квинтологии, и дофигалогии, в коих не наберется и горсточки поводов для размышления, – Воннегут написал коротенький роман, который прочитываешь за несколько часов, а осмысливаешь и обдумываешь несколько лет. Книга невелика, но те впечатления, которые она производит, те разномыслия, которые рождает и развивает, вряд ли вместишь в дюжину таких же и много больших романов.\n" +
                "\n" +
                "          Пока что надумал я где-то романа на полтора. Во всяком случае, мне так кажется. Все это очень хочется втиснуть в отзыв – вот только кому к черту нужна вся моя ахинея?! Вот и мне кажется, что никому. Посему особо разглагольствовать не стану.\n" +
                "\n" +
                "          Герой романа непригляден, более того, на первый взгляд он совершенно неинтересен. Всю свою жизнь он видит целиком: будучи младенцем, знает, что будет в старости, превратившись в старика, помнит младенчество, и не просто помнит – может вернуться, нырнуть в любой момент своего пути. Время для героя романа не прямая линия, а произвольная ломаная, прыгающая по его судьбе как ей заблагорассудится. Это не так уж и сложно, к этому быстро привыкаешь, но крышу от этого сносит конкретно – и во время чтения, и после.\n" +
                "\n" +
                "          После… Что за слово такое?.. До, после, во время… Слыша эти слова, тральфамадорцы закатывают к небу глаза. Мы, люди – глупцы. Все до единого, во всех поколениях. Идиотизм? Возможно. Но читая «Бойню» в это действительно веришь.\n" +
                "\n" +
                "          Воннегут в своем репертуаре: роман пропагандирует гуманизм, замечая вместе с тем, что всякая пропаганда гуманизма бессмысленна, ибо ненависть, несправедливость и все прочие противоположности гуманизму как были, так и есть и, черт возьми, так и будут…\n" +
                "\n" +
                "          Если посчитать все смерти, упомянутые в романе, станет страшно. Когда читаешь – не страшно совсем. И от этого еще страшней. Хотя и не страшно. Такие дела.\n" +
                "\n" +
                "          Композиция поразительна очень многим. И она уникальна. Язык отрывистый. При этом очень доставляющий. Это магия!\n" +
                "\n" +
                "          В общем и целом, в «Бойне №5» Воннегут превзошел сам себя и этак девяносто-девяносто пять процентов всего когда-либо мной прочтенного. Бурные и несмолкающие аплодисменты."));

        commentsMap.put(11, new Comment(UUID.randomUUID().toString(), "Наверное, это одно из лучших произведений, что я когда-либо читал. Оно настолько идеальное во всей своей рваности, что совершенно не к чему придраться!\n" +
                "\n" +
                "          Это книга о двух вещах:\n" +
                "\n" +
                "          1. О войне. О настоящей войне без прикрас со всей человеческой мерзостью, о бессмысленных жертвах бомбежки Дрездена, когда американцы, как и в Хиросиме, просто пинали труп. Об абсолютно разной войне русских и союзников и о таких же разных условиях плена. Когда вышел фильм «Война Харта», где впервые показывают разницу содержания в плену русских и американцев, сайт «Кинопоиск» буквально завалили гневными рецензиями о том, что такого не бывает. А ведь надо читать классику, Воннегута. Такое было. И фильм, кстати, очень правдивый.\n" +
                "\n" +
                "          2. О тральфомадорцах. Об инопланетянах, которые живут в 4-х измерениях. И для которых поступки, плохие или хорошие, ровным счетом ничего не значат. Их нечего обсуждать, узнавать правду, давать оценку. Случилось и все. И этого не изменить.\n" +
                "\n" +
                "          Таких инопланетян очень много на Земле: это и генерал, пишущий книгу о бомбежке Дрездена, считающий, что немцы эту казнь просто заслужили, это и русские, которые давным-давно забыли о катынском расстреле, это и я, который считает, что и нечего о нем вспоминать, это все те, кто видя, что у женщины отнимают сумочку, проходим мимо, думая, что не их это дело и они ничего сделать не смогут.\n" +
                "\n" +
                "          Мы все превратились в тральфомадорцев, стали такими же, как Билли Пилигрим. Наши чувства притупились, нам стало на все плевать. И это печально :frown:\n" +
                "\n" +
                "          Итог: невероятно сильная книга, написанная, и это видно, человеком, который до сих пор переживает то, о чем он пишет. Мне кажется, каждый любитель фантастики просто обязан ее прочитать.\n" +
                "\n" +
                "          p.s. Отзыв получился какой-то мрачный, хотя в книге есть много ироничного и просто смешного. Меня навсегда сразил момент встречи пленных оборванных американцев со старым, искалеченным на восточном фронте, немецким надзирателем и их реакция друг на друга!:smile:"));

        commentsMap.put(12, new Comment(UUID.randomUUID().toString(), "Однажды некий великий писатель (тогда об этом величии не подозревал даже он сам — большинство критиков считали, что его опусы не стоят булочки с сосиской, а он только посмеивался) шел домой. Дорога проходила через мост; старые доски так трещали при каждом шаге, что писателю невольно вспомнилась одна старая сказка. Вот, прямо сейчас, из под проржавевших свай послышится грозный голос: ''''Кто это идет по моему мосту?!''''\n" +
                "\n" +
                "          Писатели, в отличие от обычных граждан, подмечают все подряд, цепляются за любую мелочь в поисках хорошей идеи. К тому времени, как наш сочинитель добрался до дома, он уже твердо знал: в этом что-то есть! Вот так один из величайших американских романов родился от скрипа досок под ногами.\n" +
                "\n" +
                "          Доподлинно неизвестно, почему Стивен Кинг решил вдруг сделать «Оно» ключевым произведением в своем творчестве; идея тянула в лучшем случае на небольшую повесть. Но этот замысел неожиданно вобрал в себя не только все основные мотивы кинговского творчества, но и его, так сказать, истоки, и переработал в совершенно самобытный роман, одновременно динамичный и мудрый, жестокий и добрый, омерзительный и прекрасный. Пока социологи писали о влиянии жизненных реалий на массовую культуру (и наоборот), Кинг просто объединил масскульт с реальностью в единое целое, создав и ''''путеводитель по жанру хоррор'''', и ''''энциклопедию американской жизни'''', и размышления о природе страха, и, наконец, роман о детстве... и о любви. Маленький городок, как модель мироздания, и большое Зло, правящее душами его обитателей, магия детства, противостоящая жестокому рационализму мира взрослых, размышления о писательском искусстве, выживание личностей в равнодушной и слепой толпе — все эти (и многие другие) мотивы, встречавшиеся в творчестве Кинга раньше и позже, в ''''Оно'''' раскрылись максимально. Каждый, даже самый незначительный персонаж (а их там больше сотни) прописан настолько тщательно, что не возникает ни малейшего сомнения в его реальности. Каждая сцена обрисована так ярко, что читатель словно теряет связь с реальностью, целиком ощушая себя на месте героев. Чередование эпизодов детства и зрелости, перемежающееся интерлюдиями из истории Дерри создает масштабнейшую картину происходящего. Все составляющие настолько идеально дополняют друг друга, что невозможно выбросить мельчайшую деталь, не разрушив все построение. Недаром Кинг говорил, что ''''Оно'''' станет его последним романом ''''о монстрах'''' — лукавил, конечно, но большинство его поздних произведений и впрямь основываются на одной из линий ''''Оно''''. РЕГУЛЯТОРЫ, ТОММИНОКЕРЫ, БЕЗНАДЕГА, НУЖНЫЕ ВЕЩИ, ДЬЮМА-КИ, МЕШОК С КОСТЯМИ, РОЗА МАРЕНА — каждая из этих книг заставляет вспомнить ''''Оно''''. Если вы не читали этот роман, значит, вы не читали Стивена Кинга.\n" +
                "\n" +
                "          Если же меня спросят, о чем этот роман, я отвечу, что он, действительно, о монстре. О том чудовище, которое таится в душе каждого. Оно — часть человеческой сущности, и каждый человек — если он настоящий человек — должен дать Ему бой еще в детстве. Потом будет поздно, и человек, примирившийся с частью чудовища внутри себя, сам может сделаться частью внутри чудовища... как это было с добрыми жителями городка Дерри."));

        commentsMap.put(13, new Comment(UUID.randomUUID().toString(), "Удивительное дело – написанный, по признанию самого Кинга, как бы «между прочим», роман «Оно» стал едва ли не самым главным произведением американского автора. «Оно» можно назвать своеобразной энциклопедией всего творчества С. Кинга. История группы подростков из провинциального американского городка, вступивших в неравную и почти безнадежную борьбу с Абсолютным Злом, становится магистральной для очень многих кинговских произведений. Дети, выступившие против зла, оказываются в романе практически в одиночестве. Мир взрослых в лучшем случае просто не желает замечать Зла, или же (вольно или не вольно) попадает под его воздействие.\n" +
                "\n" +
                "          В отличие от своих позднейших романов, Кинг в «Оно» практически ничего не говорит ни о религии, ни о христианстве. Тем не менее, роман содержит стопроцентно христианский мессидж — кинговское «Будьте как дети...», отсылающее к известным евангельским словам: «Если не обратитесь, и не будете, как дети, не войдете в Царство Небесное...» Именно такие детские качества как непосредственность, отзывчивость, умение безошибочно понимать людей, способность интуитивно, на глубинном уровне распознавать добро и зло, сыграют решающую роль в победе над инфернальной субстанцией, несколько столетий терзавшей город Дерри.\n" +
                "\n" +
                "          Кстати, опять-таки, по словам Кинга, роман в значительной степени воспроизводит детские впечатления самого писателя: и Барренс, и Кендускеаг, и даже Генри Бауэрс — все это было на самом деле... Кто знает, может быть на самом деле был (и есть сейчас) и сам клоун Пеннивайз?..."));
    }

}
